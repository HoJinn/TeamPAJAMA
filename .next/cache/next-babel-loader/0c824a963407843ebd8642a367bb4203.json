{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"dialogType\"];\nimport { destroyCookie, parseCookies, setCookie } from \"nookies\";\nimport { pick } from \"./util\";\nexport var pushAsCurrentPage = function pushAsCurrentPage(urlOption, router) {\n  // const router_ = router||useRouter();\n  var query = router.query,\n      pathname = router.pathname;\n  router.push(urlOption, {\n    pathname: pathname,\n    query: query\n  });\n};\nexport var saveCurrentPage = function saveCurrentPage(router) {\n  var pathname = router.pathname,\n      query = router.query;\n\n  var dialogType = query.dialogType,\n      query_ = _objectWithoutProperties(query, _excluded);\n\n  setCookie(null, \"\".concat(process.env.NEXT_PUBLIC_BOOKMARK_PAGE), JSON.stringify({\n    pathname: pathname,\n    query: query_\n  }), {\n    path: '/'\n  });\n};\nexport var getBookmarkPage = function getBookmarkPage() {\n  var cookies = parseCookies();\n\n  try {\n    var bookmarkPage = pick(JSON.parse(cookies[\"\".concat(process.env.NEXT_PUBLIC_BOOKMARK_PAGE)]));\n    return bookmarkPage;\n  } catch (_) {\n    return undefined;\n  }\n};\nexport var removeBookmarpage = function removeBookmarpage() {\n  return destroyCookie(null, \"\".concat(process.env.NEXT_PUBLIC_BOOKMARK_PAGE));\n};","map":{"version":3,"sources":["C:/pro/myReact/TeamPAJAMA/src/routerUtil.ts"],"names":["destroyCookie","parseCookies","setCookie","pick","pushAsCurrentPage","urlOption","router","query","pathname","push","saveCurrentPage","dialogType","query_","process","env","NEXT_PUBLIC_BOOKMARK_PAGE","JSON","stringify","path","getBookmarkPage","cookies","bookmarkPage","parse","_","undefined","removeBookmarpage"],"mappings":";;AACA,SAASA,aAAT,EAAwBC,YAAxB,EAAsCC,SAAtC,QAAuD,SAAvD;AAGA,SAASC,IAAT,QAAqB,QAArB;AAGA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,SAAD,EAAuBC,MAAvB,EAA8C;AAC7E;AACA,MAAOC,KAAP,GAA0BD,MAA1B,CAAOC,KAAP;AAAA,MAAcC,QAAd,GAA0BF,MAA1B,CAAcE,QAAd;AACAF,EAAAA,MAAM,CAACG,IAAP,CAAYJ,SAAZ,EAAuB;AAACG,IAAAA,QAAQ,EAARA,QAAD;AAAWD,IAAAA,KAAK,EAALA;AAAX,GAAvB;AACD,CAJM;AAUP,OAAO,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,CAACJ,MAAD,EAAwB;AACrD,MAAOE,QAAP,GAA0BF,MAA1B,CAAOE,QAAP;AAAA,MAAiBD,KAAjB,GAA0BD,MAA1B,CAAiBC,KAAjB;;AACA,MAAOI,UAAP,GAAgCJ,KAAhC,CAAOI,UAAP;AAAA,MAAsBC,MAAtB,4BAAgCL,KAAhC;;AACAL,EAAAA,SAAS,CACP,IADO,YAEJW,OAAO,CAACC,GAAR,CAAYC,yBAFR,GAGPC,IAAI,CAACC,SAAL,CAAe;AAACT,IAAAA,QAAQ,EAARA,QAAD;AAAWD,IAAAA,KAAK,EAAEK;AAAlB,GAAf,CAHO,EAIP;AAACM,IAAAA,IAAI,EAAE;AAAP,GAJO,CAAT;AAMD,CATM;AAWP,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAyB;AACtD,MAAMC,OAAO,GAAGnB,YAAY,EAA5B;;AACA,MAAG;AACD,QAAMoB,YAAY,GAAGlB,IAAI,CAAWa,IAAI,CAACM,KAAL,CAAWF,OAAO,WAAIP,OAAO,CAACC,GAAR,CAAYC,yBAAhB,EAAlB,CAAX,CAAzB;AACA,WAAOM,YAAP;AACD,GAHD,CAGC,OAAME,CAAN,EAAQ;AACP,WAAOC,SAAP;AACD;AACF,CARM;AAUP,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,SAC/BzB,aAAa,CAAC,IAAD,YAAUa,OAAO,CAACC,GAAR,CAAYC,yBAAtB,EADkB;AAAA,CAA1B","sourcesContent":["import { NextRouter } from \"next/router\"\r\nimport { destroyCookie, parseCookies, setCookie } from \"nookies\";\r\nimport { ParsedUrlQuery } from \"querystring\";\r\nimport { UrlObject } from \"url\";\r\nimport { pick } from \"./util\";\r\n\r\n\r\nexport const pushAsCurrentPage = (urlOption: UrlObject, router: NextRouter) => {\r\n  // const router_ = router||useRouter();\r\n  const {query, pathname} = router;\r\n  router.push(urlOption, {pathname, query});\r\n}\r\n\r\ntype SavePage = {\r\n  pathname: string,\r\n  query: ParsedUrlQuery\r\n}\r\nexport const saveCurrentPage = (router: NextRouter) => {\r\n  const {pathname, query} = router;\r\n  const {dialogType, ...query_} = query\r\n  setCookie(\r\n    null, \r\n    `${process.env.NEXT_PUBLIC_BOOKMARK_PAGE}`, \r\n    JSON.stringify({pathname, query: query_}),\r\n    {path: '/'}\r\n  );\r\n}\r\n\r\nexport const getBookmarkPage = ():SavePage|undefined => {\r\n  const cookies = parseCookies();\r\n  try{\r\n    const bookmarkPage = pick<SavePage>(JSON.parse(cookies[`${process.env.NEXT_PUBLIC_BOOKMARK_PAGE}`] ));\r\n    return bookmarkPage\r\n  }catch(_){\r\n    return undefined\r\n  }\r\n}\r\n\r\nexport const removeBookmarpage = () => \r\n  destroyCookie(null, `${process.env.NEXT_PUBLIC_BOOKMARK_PAGE}`);\r\n"]},"metadata":{},"sourceType":"module"}